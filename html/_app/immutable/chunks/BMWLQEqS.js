import{R as K,G as C,S as Q,U as W,k as ee,V as q,W as S,e as _,h as d,w as y,X as te,x as se,Y as V,Z as ie,b as c,_ as k,p as A,a as z,$ as re,a0 as R,a1 as N,a2 as B,a3 as ne,a4 as G,j as J,m as ae,a5 as L,a6 as oe,a7 as P,a8 as fe,a9 as ue,d as x,z as D,aa as he,ab as le,ac as H,ad as ce,ae as _e,af as de,ag as pe,ah as ge,ai as X,aj as Y,q as ve,ak as be,al as ye,am as F,an as E,ao as me,ap as Ee,aq as we,ar as Te,J as Se,as as Re,at as Ne,O as De,au as Oe,n as U,av as ke,aw as Ae}from"./CiZdU8VS.js";import{b as xe}from"./D6JLS2rJ.js";import{s as Ye,g as Fe}from"./C7sp0VJA.js";function Ie(t){let e=0,s=W(0),r;return()=>{K()&&(C(s),Q(()=>(e===0&&(r=ee(()=>t(()=>q(s)))),e+=1,()=>{S(()=>{e-=1,e===0&&(r?.(),r=void 0,q(s))})})))}}var Me=_e|de|pe;function Ce(t,e,s){new Ve(t,e,s)}class Ve{parent;is_pending=!1;#t;#b=d?_:null;#i;#h;#r;#s=null;#e=null;#n=null;#a=null;#u=null;#l=0;#o=0;#_=!1;#c=!1;#d=new Set;#p=new Set;#f=null;#E=Ie(()=>(this.#f=W(this.#l),()=>{this.#f=null}));constructor(e,s,r){this.#t=e,this.#i=s,this.#h=r,this.parent=y.b,this.is_pending=!!this.#i.pending,this.#r=te(()=>{if(y.b=this,d){const i=this.#b;se(),i.nodeType===V&&i.data===ie?this.#T():(this.#w(),this.#o===0&&(this.is_pending=!1))}else{var n=this.#y();try{this.#s=c(()=>r(n))}catch(i){this.error(i)}this.#o>0?this.#v():this.is_pending=!1}return()=>{this.#u?.remove()}},Me),d&&(this.#t=_)}#w(){try{this.#s=c(()=>this.#h(this.#t))}catch(e){this.error(e)}}#T(){const e=this.#i.pending;e&&(this.#e=c(()=>e(this.#t)),S(()=>{var s=this.#y();this.#s=this.#g(()=>(k.ensure(),c(()=>this.#h(s)))),this.#o>0?this.#v():(A(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#y(){var e=this.#t;return this.is_pending&&(this.#u=z(),this.#t.before(this.#u),e=this.#u),e}defer_effect(e){re(e,this.#d,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#g(e){var s=y,r=G,n=J;R(this.#r),N(this.#r),B(this.#r.ctx);try{return e()}catch(i){return ne(i),null}finally{R(s),N(r),B(n)}}#v(){const e=this.#i.pending;this.#s!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#u),ae(this.#s,this.#a)),this.#e===null&&(this.#e=c(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}if(this.#o+=e,this.#o===0){this.is_pending=!1;for(const s of this.#d)L(s,oe),P(s);for(const s of this.#p)L(s,fe),P(s);this.#d.clear(),this.#p.clear(),this.#e&&A(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null)}}update_pending_count(e){this.#m(e),this.#l+=e,!(!this.#f||this.#_)&&(this.#_=!0,S(()=>{this.#_=!1,this.#f&&ue(this.#f,this.#l)}))}get_effect_pending(){return this.#E(),C(this.#f)}error(e){var s=this.#i.onerror;let r=this.#i.failed;if(this.#c||!s&&!r)throw e;this.#s&&(x(this.#s),this.#s=null),this.#e&&(x(this.#e),this.#e=null),this.#n&&(x(this.#n),this.#n=null),d&&(D(this.#b),he(),D(le()));var n=!1,i=!1;const f=()=>{if(n){ge();return}n=!0,i&&ce(),k.ensure(),this.#l=0,this.#n!==null&&A(this.#n,()=>{this.#n=null}),this.is_pending=this.has_pending_snippet(),this.#s=this.#g(()=>(this.#c=!1,c(()=>this.#h(this.#t)))),this.#o>0?this.#v():this.is_pending=!1};S(()=>{try{i=!0,s?.(e,f),i=!1}catch(u){H(u,this.#r&&this.#r.parent)}r&&(this.#n=this.#g(()=>{k.ensure(),this.#c=!0;try{return c(()=>{r(this.#t,()=>e,()=>f)})}catch(u){return H(u,this.#r.parent),null}finally{this.#c=!1}}))})}}const qe=["touchstart","touchmove"];function Be(t){return qe.includes(t)}const Le=new Set,$=new Set;let j=null;function w(t){var e=this,s=e.ownerDocument,r=t.type,n=t.composedPath?.()||[],i=n[0]||t.target;j=t;var f=0,u=j===t&&t.__root;if(u){var l=n.indexOf(u);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var p=n.indexOf(e);if(p===-1)return;l<=p&&(f=l)}if(i=n[f]||t.target,i!==e){X(t,"currentTarget",{configurable:!0,get(){return i||s}});var O=G,h=y;N(null),R(null);try{for(var a,o=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+r];b!=null&&(!i.disabled||t.target===i)&&b.call(i,t)}catch(m){a?o.push(m):a=m}if(t.cancelBubble||g===e||g===null)break;i=g}if(a){for(let m of o)queueMicrotask(()=>{throw m});throw a}}finally{t.__root=e,delete t.currentTarget,N(O),R(h)}}}function je(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}function Pe(t,e){return Z(t,e)}function We(t,e){Y(),e.intro=e.intro??!1;const s=e.target,r=d,n=_;try{for(var i=ve(s);i&&(i.nodeType!==V||i.data!==be);)i=ye(i);if(!i)throw F;E(!0),D(i);const f=Z(t,{...e,anchor:i});return E(!1),f}catch(f){if(f instanceof Error&&f.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw f;return f!==F&&console.warn("Failed to hydrate: ",f),e.recover===!1&&me(),Y(),Ee(s),E(!1),Pe(t,e)}finally{E(r),D(n)}}const v=new Map;function Z(t,{target:e,anchor:s,props:r={},events:n,context:i,intro:f=!0}){Y();var u=new Set,l=h=>{for(var a=0;a<h.length;a++){var o=h[a];if(!u.has(o)){u.add(o);var g=Be(o);e.addEventListener(o,w,{passive:g});var b=v.get(o);b===void 0?(document.addEventListener(o,w,{passive:g}),v.set(o,1)):v.set(o,b+1)}}};l(we(Le)),$.add(l);var p=void 0,O=Te(()=>{var h=s??e.appendChild(z());return Ce(h,{pending:()=>{}},a=>{Se({});var o=J;if(i&&(o.c=i),n&&(r.$$events=n),d&&xe(a,null),p=t(a,r)||{},d&&(y.nodes.end=_,_===null||_.nodeType!==V||_.data!==Re))throw Ne(),F;De()}),()=>{for(var a of u){e.removeEventListener(a,w);var o=v.get(a);--o===0?(document.removeEventListener(a,w),v.delete(a)):v.set(a,o)}$.delete(l),h!==s&&h.parentNode?.removeChild(h)}});return I.set(p,O),p}let I=new WeakMap;function ze(t,e){const s=I.get(t);return s?(I.delete(t),s(e)):Promise.resolve()}let T=!1,M=Symbol();function Ge(t,e,s){const r=s[e]??={store:null,source:ke(void 0),unsubscribe:U};if(r.store!==t&&!(M in s))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=U;else{var n=!0;r.unsubscribe=Ye(t,i=>{n?r.source.v=i:Ae(r.source,i)}),n=!1}return t&&M in s?Fe(t):C(r.source)}function Je(){const t={};function e(){Oe(()=>{for(var s in t)t[s].unsubscribe();X(t,M,{enumerable:!1,value:!0})})}return[t,e]}function Xe(t){var e=T;try{return T=!1,[t(),T]}finally{T=e}}export{je as a,Ge as b,Xe as c,We as h,Pe as m,Je as s,ze as u};
